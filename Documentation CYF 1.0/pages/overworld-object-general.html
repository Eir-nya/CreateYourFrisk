<!DOCTYPE html>
<!--
since you're here anyway: there's a small easter egg on the text commands page but it's probably not worth finding, sorry
you may notice this page's code is garbage: i'm not a web designer! ;-;
it's w3c valid, at least
-->

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>CYF Documentation - The General Object</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="../css/themesidebar.css" rel="stylesheet">
    <link href="../css/shThemeRDark.css" rel="stylesheet">

    <!-- Syntax highlighting -->
    <script type="text/javascript" src="../js/shCore.js"></script>
    <script type="text/javascript" src="../js/shBrushLua.js"></script>
    <script type="text/javascript">SyntaxHighlighter.all();</script>
</head>
<body>
<img src="../img/bg2.png" alt="Undertale background" class="backimg">
<div class="container arena black">
    <div class="col-md-2">
        <!--navigation-->
        <nav class="nav-sidebar">
            <ul class="nav tabs">
                <li class="li-header">Basics</li>
                    <li><a href="../documentation.html">Welcome</a></li>
                    <li><a href="howtoread.html">How to read this documentation</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li><a href="controls.html">Controls</a></li>
                    <li><a href="basic.html">Basic setup</a></li>
                    <li><a href="variables.html">Special Variables</a></li>
                    <li><a href="terms.html">Terminology</a></li>
                <li class="li-header">API</li>
                    <li><a href="api-text.html">Text commands</a></li>
                    <li><a href="api-events.html">Game events</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li class="li-indent">Functions &amp; Objects:</li>
                        <li class="li-indent"><a href="api-functions-main.html">Misc. Functions</a></li>
                        <li class="li-indent"><a href="api-functions-player.html">The Player Object</a></li>
                        <li class="li-indent"><a href="api-functions-script.html">The Script Object</a></li>
                        <li class="li-indent"><a href="api-functions-audio.html">The Audio Object</a></li>
                        <li class="li-indent"><a href="api-functions-newaudio.html"><span class="CYF"></span> The NewAudio Object</a></li>
                        <li class="li-indent"><a href="api-functions-input.html">The Input Object</a></li>
						<li class="li-indent"><a href="api-functions-time.html">The Time Object</a></li>
                        <li class="li-indent"><a href="api-functions-misc.html"><span class="CYF"></span>The Misc Object</a></li>
                        <li class="li-indent"><a href="api-functions-waves.html">Wave Scripts</a></li>
                    <hr style="margin-top:-2.5px;margin-bottom:2.5px;">
                    <li><a href="api-projectile.html">Projectile management</a></li>
                    <li><a href="api-animation.html">Sprites &amp; Animation</a></li>
                    <li><a href="api-keys.html"><span class="CYF"></span> Key List</a></li>
                <li class="li-header">Create Your Frisk's new features</li>
                    <li><a href="cyf-inventory.html"><span class="CYF"></span> The Inventory System</a></li>
                    <li><a href="cyf-ppcollision.html"><span class="CYF"></span> The Pixel-Perfect Collision System</a></li>
                    <li><a href="cyf-text.html"><span class="CYF"></span> The Text Object</a></li>
				<li class="li-header">Overworld</li>
                    <li><a href="overworld.html"><span class="CYF"></span> Basics</a></li>
                    <li><a href="overworld-howto-map.html"><span class="CYF"></span> How to create a map</a></li>
                    <li><a href="overworld-howto-event.html"><span class="CYF"></span> How to create an event</a></li>
                    <li><a href="overworld-howto-animevent.html"><span class="CYF"></span> How to animate an event</a></li>
                    <li><a href="overworld-howto-shop.html"><span class="CYF"></span> How to create a shop</a></li>
                    <li style="margin-left:5px;">> <span class="CYF"></span> The General Object <</li>
                    <li><a href="overworld-object-event.html"><span class="CYF"></span> The Event Object</a></li>
                    <li><a href="overworld-object-player.html"><span class="CYF"></span> The Player Object</a></li>
                    <li><a href="overworld-object-screen.html"><span class="CYF"></span> The Screen Object</a></li>
                    <li><a href="overworld-object-inventory.html"><span class="CYF"></span> The Inventory Object</a></li>
                    <li><a href="overworld-object-map.html"><span class="CYF"></span> The Map Object</a></li>
                <li class="li-header">Resources</li>
                    <li><a href="../media/dialogoptions.png">Dialog bubble names</a></li>
            </ul>
        </nav>
    </div>
    <!--tabs'n'shit-->
    <div class="tab-content col-md-10">
		<div class="tab-pane active text-style" id="overworld-object-general">
            <h2><span class="CYF"></span>The Overworld: The General Object</h2><br>
           
            <p>
                <br><span class="function">General.SetDialog(table texts, bool formatted = true, table mugshot = nil)</span>
                Displays text.
                <li><span class="term">texts</span> = The different lines of text displayed.</li><br>
                <li><span class="term">formatted</span> = Adds asterisks to your text, (if yes: \n for asterisks, \r for
                    no asterisks)
                    <br>True by default.</li><br>
                <li><span class="term">mugshot</span> = The name of your mugshots (dialogue faces), without the file extension. 
				If you want to use them, you have to have at least one mugshot per text, or else it won't work.
                    <br>They have to be in the path <span class="term">YourMod/Sprites/Mugshots/</span>!</li><br>
            </p>
            <p>
                <br><span class="function">General.SetChoice(table choices, string question = null)</span>
                Displays a choice. The response will be returned as either 0 for the first option or 1 for the second option. 
                For now, there are a lot of constraints, but I hope that I'll find a better way to do this easily.<br>
                Each choice must have no more than 3 lines. 
				If you want there to be a question, it must be no more than one line long.<br>
                <span style="color:#ff0000">Due to the nature of this function, the result won't be returned directly, but the result 
                will be stored in a variable named <span class="term">lastChoice</span>.</span>
            </p>
            <p>
                <br><span class="function">General.Wait(int frames)</span>
                Pauses code execution for a given amount of frames.
            </p>
            <p>
                <br><span class="function">General.WaitForInput()</span>
                Waits for the player to press the <span class="term">Confirm</span> input (Enter or Z) to continue.
            </p>
            <p>
                <br><span class="function">General.GameOver(table deathText = nil, string deathMusic = nil)</span>
                Launches the Game Over cutscene, putting the player back at their savepoint afterwards. <br>
                You can choose the text and the music if you want to. Otherwise, it'll play the normal music and show a default message.
            </p>
            <p>
                <br><span class="function">General.PlayBGM(string bgm, number volume)</span>
                Plays music on the main music channel with a volume between 0 and 1. Watch out, <span class="term">NewAudio["src"]</span> ISN'T
                the main music channel when music is kept between battles!
            </p>
            <p>
                <br><span class="function">General.StopBGM(int fadeFrames = 0, bool waitEnd = false)</span>
                Stops the current music being played in the main music channel. If <span class="term">fadeFrames</span> is greater than 0, 
				the music will fade out over that many frames. If <span class="term">waitEnd</span> is set to true, the script will wait 
				until the BGM has stopped before continuing.
            </p>
            <p>
                <br><span class="function">General.PlaySound(string sound, float volume = 0.65)</span>
                Plays a sound in a temporary sound channel with a volume between 0 and 1.
            </p>
            <p>
                <br><span class="function">General.Save()</span>
                Launches the Save UI that allows the player to save their progression.
            </p>
            <p>
                <br><span class="function">General.TitleScreen()</span>
                Exits the current game and puts the player back on the title screen.
            </p>
            <p>
                <br><span class="function">General.SetBattle(string encounterName, bool quickAnim = false, bool ForceNoFlee = false)</span>
                Initiates a battle with a chosen encounter. If the first encounter character is a <span class="term">#</span>, don't forget it.<br>
                If you want the battle's intro to be quick like Undyne's battle, set <span class="term">quickAnim</span> to true.<br>
                Finally, <span class="term">ForceNoFlee</span> removes the flee option from the encounter - unless your encounter sets 
				<span class="term">flee</span> to true.
            </p>
			
			<p>
				<br><span class="function">General.EnterShop(string scriptName)</span>
				Initializes the Shop menu, using the script given in <span class="term">scriptName</span>. The Shop script must be in <span class="term">YOURMOD/Lua/Shops/</span>.<br>
				Check the <span class="ref">How to create a shop</span> section for more informations.
			</p>
        </div>
		
		<div class="tab-pane text-style" id="mercy">
            <h2 style="text-decoration: none; line-height:50px;">
                * YOU WON!<br>
                * You earned 0 EXP and 0 gold.<br>
                * also the nav menu is broken now
            </h2><br>
        </div>
	</div>
</div>

<div class="container">
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/fightbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/actbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="../img/itembt_0.png" height="42">
    </div>
    <div class="col-xs-3"><a href="#mercy" data-toggle="tab"><img class="centerbt black" alt="Undertale fake button"
                                                                  src="../img/mercybt_0.png" height="42"></a>
    </div>
</div>
<br>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/show_hide_comments.js"></script>

<script type="text/javascript" src="../js/FontToggleButton.js"></script>
</body>
</html>